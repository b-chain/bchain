{"inter_name":"jsre.JSRE","code":"DQp2YXIgY3R4YXBpID0gY3R4QXBpKCk7DQoNCjsoZnVuY3Rpb24gKCkgew0KICAgIGZ1bmN0aW9uIHN0clRvTG93ZXIocGFyYW0pew0KICAgICAgICByZXR1cm4gcGFyYW0udG9Mb3dlckNhc2UoKQ0KICAgIH0NCiAgICB2YXIgYmFsYW5jZVByZWZpeCA9ICJiYWxhbmNlIg0KICAgIGZ1bmN0aW9uIE1KT1lUb2tlbigpew0KICAgICAgICB2YXIgc3ltYm9sID0gIkpPWSINCiAgICAgICAgdmFyIHRva2VuTmFtZSA9ICJNSk9ZIFRva2VuIg0KICAgICAgICB2YXIgZGVjaW1hbHMgPSAxOA0KICAgICAgICB2YXIgdG90YWxTdXBwbHkgPSBuZXcgQmlnTnVtYmVyKDFlKzEwKQ0KICAgICAgICB2YXIgX3RvdGFsU3VwcGx5ID0gdG90YWxTdXBwbHkudGltZXMoMWUrMTgpDQogICAgICAgIA0KICAgICAgICB2YXIgb3duZXIgPSBzdHJUb0xvd2VyKGN0eGFwaS5fY3JlYXRvcikNCiAgICAgICAgY3R4YXBpLmNvbnNvbGUucHJpbnQoIi0tLU1KT1lUb2tlbiBPd25lcjoiICtvd25lciArICJcbiIpDQoNCiAgICAgICAgY3R4YXBpLmRiLnNldChvd25lciArIGJhbGFuY2VQcmVmaXggLCBfdG90YWxTdXBwbHkudG9TdHJpbmcoKSkNCiAgICAgICAgY3R4YXBpLmRiLnNldCgic3ltYm9sIiAsIHN5bWJvbCkNCiAgICAgICAgY3R4YXBpLmRiLnNldCgidG9rZW5OYW1lIiAsIHRva2VuTmFtZSkNCiAgICAgICAgY3R4YXBpLmRiLnNldCgiZGVjaW1hbHMiICwgZGVjaW1hbHMpDQogICAgICAgIGN0eGFwaS5kYi5zZXQoInRvdGFsU3VwcGx5IiAsIHRvdGFsU3VwcGx5KQ0KICAgICAgICBjdHhhcGkuY29uc29sZS5wcmludCgiPT09PT09PT09PT09PT09PT1NSk9ZVG9rZW4gaW5pdCBjb21wbGV0ZWQhISEhISEhISEhISFcbiIpDQogICAgfQ0KICAgIGZ1bmN0aW9uIGNvbnN0cnVjdCgpew0KICAgICAgICBrZXlJbml0ID0gImluaXRfZmxhZyINCiAgICAgICAgaW5pdEZsYWcgPSBjdHhhcGkuZGIuZ2V0KGtleUluaXQpDQogICAgICAgIGlmICAoaW5pdEZsYWcubGVuZ3RoICE9IDApew0KICAgICAgICAgICAgcmV0dXJuDQogICAgICAgIH0NCiAgICAgICAgTUpPWVRva2VuKCkNCiAgICAgICAgY3R4YXBpLmRiLnNldChrZXlJbml0LCAiT0siKQ0KICAgIH0NCiAgICBjb25zdHJ1Y3QoKQ0KDQogICAgZnVuY3Rpb24gYmFzaWNCYWxhbmNlVHJhbnNmZXIodG8xICwgYW1vdW50KXsNCiAgICAgICAgY3R4YXBpLmNvbnNvbGUucHJpbnQoIk1qb3kgVHJhbnNmZXIgc2VuZGVyOiIgKyBjdHhhcGkuX3NlbmRlciArICIgICBDcmVhdG9yOiIgKyBjdHhhcGkuX2NyZWF0b3IgKyAiXG4iKQ0KICAgICAgICBpZiAoY3R4YXBpLl9zZW5kZXIgPT0gY3R4YXBpLl9jcmVhdG9yKXsNCiAgICAgICAgICAgIC8vY2FsbCBiYWxhbmNlUmV3YXJkIGJlZm9yZQ0KICAgICAgICAgICAgcmV0ID0gY3R4YXBpLmNhY2hlLmdldCgiZmxhZ19jb25zZW5zdXNfb25seV9vbmNlIikNCiAgICAgICAgICAgIGlmIChyZXQubGVuZ3RoICE9IDApIHsNCiAgICAgICAgICAgICAgICBjdHhhcGkuYXNzZXJ0LmFzc2VydChmYWxzZSAsICJpbnZhbGlkIHNlbmRlcixjb2RlOiIrcmV0KQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHZhciBmcm9tID0gc3RyVG9Mb3dlcihjdHhhcGkuX3NlbmRlcikNCiAgICAgICAgdmFyIHRvID0gc3RyVG9Mb3dlcih0bzEpDQogICAgICAgIGN0eGFwaS5jb25zb2xlLnByaW50KCItLS1CYWxhbmNlVHJhbnNmZXIgRnJvbToiICsgZnJvbSArICJcbiIpDQogICAgICAgIGN0eGFwaS5jb25zb2xlLnByaW50KCItLS1CYWxhbmNlVHJhbnNmZXIgVG86IiArIHRvICsgIlxuIikNCg0KDQogICAgICAgIC8vIGN0eGFwaS5jb25zb2xlLnByaW50KCJCYWxhbmNlVHJhbnNmZXIgYW1vdW50ICIgKyBhbW91bnQudG9TdHJpbmcoKSsiXG4iKQ0KICAgICAgICB2YXIgYUJhbGFuY2VIZXggPSBjdHhhcGkuZGIuZ2V0KGZyb20gKyBiYWxhbmNlUHJlZml4KQ0KICAgICAgICB2YXIgYUJhbGFuY2UgPSBuZXcgQmlnTnVtYmVyKDApDQogICAgICAgIGlmICAoYUJhbGFuY2VIZXgubGVuZ3RoICE9IDApew0KICAgICAgICAgICAgYUJhbGFuY2UgPSBuZXcgQmlnTnVtYmVyKGFCYWxhbmNlSGV4KQ0KICAgICAgICB9DQogICAgICAgIC8vY3R4YXBpLmNvbnNvbGUucHJpbnQoZnJvbSsiICBiZWZvcmUgYUJhbGFuY2U9IiArIGFCYWxhbmNlICsiXG4iKQ0KICAgICAgICB2YXIgYkJhbGFuY2VIZXggPSBjdHhhcGkuZGIuZ2V0KHRvICsgYmFsYW5jZVByZWZpeCkNCiAgICAgICAgdmFyIGJCYWxhbmNlID0gbmV3IEJpZ051bWJlcigwKQ0KICAgICAgICBpZiAoYkJhbGFuY2VIZXgubGVuZ3RoICE9IDApIHsNCiAgICAgICAgICAgIGJCYWxhbmNlID0gbmV3IEJpZ051bWJlcihiQmFsYW5jZUhleCkNCiAgICAgICAgfQ0KICAgICAgICAvL2N0eGFwaS5jb25zb2xlLnByaW50KHRvKyIgIGJlZm9yZSBiQmFsYW5jZT0iICsgYkJhbGFuY2UgKyJcbiIpDQoNCiAgICAgICAgaWYgKGFCYWxhbmNlLmx0KGFtb3VudCkpIHsNCiAgICAgICAgICAgIGN0eGFwaS5hc3NlcnQuYXNzZXJ0KGZhbHNlICwgImJhbGFuY2UgaXMgbm90IGVub3VnaCIpDQogICAgICAgIH0NCg0KICAgICAgICBhQmFsYW5jZSA9IGFCYWxhbmNlLm1pbnVzKGFtb3VudCkNCiAgICAgICAgYkJhbGFuY2UgPSBiQmFsYW5jZS5wbHVzKGFtb3VudCkNCg0KICAgICAgICBhQmFsYW5jZVN0ciA9IGFCYWxhbmNlLnRvU3RyaW5nKCkNCiAgICAgICAgYkJhbGFuY2VTdHIgPSBiQmFsYW5jZS50b1N0cmluZygpDQogICAgICAgIC8vY3R4YXBpLmNvbnNvbGUucHJpbnQoZnJvbSsiICBhZnRlciBhQmFsYW5jZT0iICsgYUJhbGFuY2UudG9TdHJpbmcoKSsiXG4iKQ0KICAgICAgICAvL2N0eGFwaS5jb25zb2xlLnByaW50KHRvKyIgIGFmdGVyIGJCYWxhbmNlPSIgKyBiQmFsYW5jZS50b1N0cmluZygpKyJcbiIpDQogICAgICAgIGN0eGFwaS5kYi5zZXQoZnJvbSArIGJhbGFuY2VQcmVmaXggLCBhQmFsYW5jZVN0cikNCiAgICAgICAgY3R4YXBpLmRiLnNldCh0byArIGJhbGFuY2VQcmVmaXggLCBiQmFsYW5jZVN0cikNCiAgICAgICAgY3R4YXBpLmNvbnRyYWN0LmVtaXRFdmVudChmcm9tLCB0cnVlLCB0bywgdHJ1ZSwgYW1vdW50LnRvU3RyaW5nKCksIHRydWUpDQoNCiAgICB9DQoNCiAgICB0aGlzLmJhbGFuY2VRdWVyeSA9IGZ1bmN0aW9uKGFkZHJlc3Mpew0KICAgICAgICB2YXIgX2FkZHJlc3MgPSBzdHJUb0xvd2VyKGFkZHJlc3MpDQogICAgICAgIGN0eGFwaS5jb25zb2xlLnByaW50KCI9PT09PT09PT09PT09PT09PWJhbGFuY2VRdWVyeT09PT09PT09PT09PT09PT09PT09XG4iKQ0KICAgICAgICB2YXIgYUJhbGFuY2VTdHJpbmcgPSBjdHhhcGkuZGIuZ2V0KF9hZGRyZXNzICsgYmFsYW5jZVByZWZpeCkNCiAgICAgICAgdmFyIGFCYWxhbmNlID0gbmV3IEJpZ051bWJlcigwKQ0KICAgICAgICBpZiAgKGFCYWxhbmNlU3RyaW5nLmxlbmd0aCAhPSAwKXsNCiAgICAgICAgICAgIGFCYWxhbmNlID0gbmV3IEJpZ051bWJlcihhQmFsYW5jZVN0cmluZykNCiAgICAgICAgfQ0KICAgICAgICBjdHhhcGkuY29uc29sZS5wcmludChhZGRyZXNzKyIgYmFsYW5jZT0gIiArIGFCYWxhbmNlICsgIlxuIikNCiAgICAgICAgY3R4YXBpLnJlc3VsdC5zZXRSZXN1bHQoYUJhbGFuY2UudG9TdHJpbmcoKSkNCiAgICB9LA0KDQogICAgdGhpcy5iYWxhbmNlVHJhbnNmZXIgPSBmdW5jdGlvbih0bzEsIGFtb3VudCl7DQoNCiAgICAgICAgdmFyIGNoZWNrID0gbmV3IEJpZ051bWJlcihhbW91bnQpDQogICAgICAgIGlmIChjaGVjay5sdGUoMCkpIHsNCiAgICAgICAgICAgIGN0eGFwaS5hc3NlcnQuYXNzZXJ0KGZhbHNlICwgImJhbGFuY2VUcmFuc2ZlciBhbW91bnQgPD0gMCIpDQogICAgICAgIH0NCg0KICAgICAgICBjdHhhcGkuY29uc29sZS5wcmludCgiKysrKysrIGJhbGFuY2VUcmFuc2ZlciBTdGFydCArKysrKysrXG4iKQ0KICAgICAgICBiYXNpY0JhbGFuY2VUcmFuc2Zlcih0bzEgLCBhbW91bnQpDQogICAgICAgIGN0eGFwaS5jb25zb2xlLnByaW50KCIrKysrKysgYmFsYW5jZVRyYW5zZmVyIEVuZCArKysrKysrXG4iKQ0KICAgIH0NCn0pKHRoaXMpOw0KDQo="}